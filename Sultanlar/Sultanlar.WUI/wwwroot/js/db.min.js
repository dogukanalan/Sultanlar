function getCari(n,t,i,r){$.ajax({beforeSend:function(n){xhrTicket(n)},url:apiurl+"Cari/GetCari/"+n+"/"+t,success:function(n){i(n,r)}})}function hataekle(n,t){$.ajax({beforeSend:function(n){xhrTicket(n)},url:apiurl+"Genel/HataEkle/"+n+"/"+t,success:function(n){console.log(n)}})}function getCariSube(n,t){$("#"+t).val(n.sube);document.getElementById(t).innerHTML=n.sube}function getCariMusteri(n,t){$("#"+t).val(n.musteri);document.getElementById(t).innerHTML=n.musteri}function getCariIl(n,t){$("#"+t).val(n.il);document.getElementById(t).innerHTML=n.il}function SaticilarGetir(n){var t=window.localStorage.uyeid;$.ajax({xhr:function(){return xhrDownloadUpload()},beforeSend:function(n){xhrTicket(n)},type:"POST",url:apiurl+"satici"+(n?"/true":""),data:'{ "uyeid": "'+t+'" }',contentType:"application/json; charset=utf-8",dataType:"json",success:function(n,t,i){checkAuth(i);$.each(n,function(n,t){$("#selectSaticilar").append($("<option><\/option>").text(t.sattem).val(t.slsmanref))});$("#selectSaticilar").val(window.localStorage.slsref);CarilerGetir()},error:function(){console.log("hata")}})}function siparisdbGetir(n){$.ajax({xhr:function(){return xhrDownloadUpload()},beforeSend:function(n){xhrTicket(n)},url:apiurl+"siparis/get/"+n,success:function(n,t,i){if(checkAuth(i),n.blAktarilmis){alert("Sipariş onaylı. Onaylı sipariş düzenlenemez.");window.location.href="Siparisler";return}siparisdbSenkRoot(n,n.smref,n.pkSiparisID.toString(),n.sintFiyatTipiID.toString())},error:function(){console.log("hata")}})}function sipariskaydet(n,t,i,r,u){var e=JSON.parse(window.localStorage.sepet),f=0;$.ajax({xhr:function(){return xhrDownloadUpload()},beforeSend:function(n){xhrTicket(n)},type:"POST",url:apiurl+"siparis/kaydet",data:stringifySepet(e,n,t,i),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n,t,i){checkAuth(i);sipSil(e);f=n;r==1?window.location.href="Onayla?siparisid="+n:u&&(document.getElementById("sipNo").innerHTML="Sipariş kaydedildi.<br><br>Sipariş no: "+f)},error:function(){console.log("hata")}}).then(()=>{console.log(f),r==1||u||(siparissil(i,!1),siparisdbGetir(f))})}function siparissil(n,t){$.ajax({xhr:function(){return xhrDownloadUpload()},beforeSend:function(n){xhrTicket(n)},url:apiurl+"siparis/sil/"+n,success:function(n,i,r){checkAuth(r);n==""?t&&(window.location.href="Siparisler"):alert(n)},error:function(){console.log("hata")}})}